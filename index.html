<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #ae07d4, #2575fc);
            color: white;
            user-select: none;
            text-align: center;
            overflow: hidden;
        }

        .profile-container {
            background: #ffffff68;
            border-radius: 15px;
            padding: 20px;
            width: 300px;
        }

        .foot {
            width: 300px;
            opacity: 0.7;
            font-size: 13px;
            margin-top: 0;
        }

        a {
            color: white;
        }

        .profile-image {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 5px solid #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            position: relative;
            margin: 0 auto;
        }

        .badge {
            position: absolute;
            top: 0;
            left: 0;
            width: 25px;
            height: 25px;
            background: gold;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px;
            color: black;
        }

        textarea {
            width: 91%;
            height: 40px;
            font-family: inherit;
            resize: none;
            color: white;
            outline: none;
            background-color: transparent;
            border: none;
            padding: 15px;
        }

        .txtbx {
            border: none;
            border-radius: 20px;
            margin-top: 15px;
            font-family: inherit;
            resize: none;
            background-color: transparent;
            border: 1px solid #fafafa77;
            color: white;
            outline: none;
            overflow: hidden;
        }

        textarea::-webkit-scrollbar {
            display: none;
        }

        textarea::placeholder {
            color: #cecece;
        }

        .txtbx:focus-within {
            border-color: #ffffff6b;
        }

        button {
            background: #2575fc;
            border: none;
            border-radius: 30px;
            padding: 10px 20px;
            color: white;
            font-size: 16px;
            width: 100%;
            cursor: pointer;
            margin-top: 10px;
            transition: 0.2s;
        }

        button:hover {
            background: #005eff;
        }

        .actions {
            display: flex;
            justify-content: space-between;
            flex-direction: row;
            padding: 3px 10px;
            gap: 10px;
            align-items: center;
        }

        .rightacts {
            display: flex;
            gap: 5px;
        }

        .actbtn img {
            width: 35px;
            height: 35px;
            scale: 0.6;
        }

        .actbtn {
            border-radius: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid #fafafa77;
            cursor: pointer;
            transition: 0.2s;
            gap: 0px;
            font-size: 14px;
        }

        .actbtn:hover {
            background-color: #fafafa31;
        }

        .actbtn:active,
        a:active,
        button:active {
            opacity: 0.7;
            scale: 0.98;
        }

        button:active {
            scale: 0.95;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: red;
            pointer-events: none;
            animation: fall 3s linear forwards;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }

            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .dialog-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .dialog-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .dialog {
            background: #000000b9;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transition: 0.3s;
            transform: translateY(-30px) scale(0.9);
            overflow: hidden;
            border: 1px solid #ffffff49;
            backdrop-filter: blur(20px);
            padding-bottom: 5px;
            user-select: none;
        }

        .dialog-overlay.show .dialog {
            transform: translateY(0px) scale(1);
            opacity: 1;
        }

        .dialog.closing {
            transform: translateY(20px) scale(0.9);
            opacity: 0;
        }

        .drop-zone {
            width: 260px;
            height: 150px;
            border: 1px dashed #ffffff49;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            margin: 20px 0;
            transition: 0.3s ease;
            gap: 5px;
            padding: 20px;
        }

        .drop-zone.dragover {
            border-color: #2874a7;
            background-color: #2874a718;
        }


        .upload-btn {
            padding: 10px 20px;
            border: none;
            border: 1px solid #ffffff49;
            border-radius: 30px;
            cursor: pointer;
            transition: 0.3s ease;
            background-color: transparent;
            color: white;
        }

        .upload-btn:hover {
            background: #ffffff2a;
        }

        input[type="file"] {
            display: none;
        }

        .diahead h2 {
            margin: 0;
            font-size: 18px
        }

        .diahead {
            border-bottom: 1px solid #ffffff49;
            margin: -20px;
            margin-bottom: 0;
            padding: 15px 20px;
            display: flex;
        }

        .upload-btn:active {
            opacity: 0.7;
        }

        @media (max-width: 600px) {
            .diahead{
                margin: 0;
            }
            .profile-container {
                background: transparent;
            }

            .dialog-overlay {
                align-items: end;
            }

            .dialog-overlay.show {
                opacity: 1;
                visibility: visible;
            }

            .dialog {
                border-bottom-right-radius: 0;
                border-bottom-left-radius: 0;
                width: 100%;
                padding: 0;
                transform: translateY(70px);
                transition: 0.2s;
                height: 60%;
            }

            .dialog-overlay.show .dialog {
                transform: translateY(0px);
                opacity: 1;
            }

            .dialog.closing {
                transform: translateY(70px);
                opacity: 0;
            }

            .drop-zone {
                width: 90%;
                border: none;
            }
        }

        .uploadedimgcont {
            width: 100%;
            scale: 0.95;
            border-radius: 20px;
            position: relative;
        }

        .uploadedimg {
            width: 100%;
            border-radius: 20px;
            -webkit-user-drag: none;
        }

        .rmimg {
            background-color: #ffffff3d;
            width: 38px;
            padding: 10px;
            position: absolute;
            right: 10px;
            top: 0px;
        }
    </style>
</head>

<body>

    <div class="dialog-overlay" id="dialogOverlay">
        <div class="dialog" id="dialog">
            <div class="diahead">
                <h2>Select Image</h2>
            </div>
            <div class="drop-zone" id="dropZone">
                <div>
                    <img src="svg/image.svg" style="width: 30px;" draggable="false">
                </div>
                <p>Drag and drop an image here</p>
                <label for="fileInput" class="upload-btn">Upload Image</label>
            </div>
            <input type="file" id="fileInput" accept="image/*" multiple>
        </div>
    </div>

    <img src="img/DROPPY.png" style="width: 160px; margin-bottom: 20px;" draggable="false">
    <div class="profile-container">
        <div class="profile-image">
            <img draggable="false" src="prp.png" alt="Profile" style="width:100%; height:100%; border-radius:50%;">
            <div class="badge"><i class="fas fa-star"></i></div>
        </div>
        <h2 style="margin-bottom: 0;">Joe Doe</h2>
        <p style="margin-top: 0;">@joedoe</p>
        <div class="txtbx">
            <div class="uploadedimgcont">
                <img src="img/OIP.jpeg" class="uploadedimg">
                <button class="rmimg"><span>x</span></button>
            </div>
            <textarea placeholder="Write something..."></textarea>
            <div class="actions">
                <p style="margin-left: 5px; opacity: 0.9; user-select: none;">0/50 letters</p>
                <div class="rightacts">
                    <div class="actbtn" onclick="generatePrompt()"><img src="svg/refresh.svg"><span
                            style="margin-right: 10px;">New Prompt</span></div>
                    <div class="actbtn" onclick="showDialog()"><img src="svg/image.svg"></div>
                </div>
            </div>
        </div>
        <button type="submit">Submit</button>
    </div>
    <p style="width: 300px; display: none;">The message you submit is encrypted, only the intended recipient can access
        it.</p>
    <p class="foot" style="margin-top: 10px;">By clicking submit you agree to our <a href="#">Terms of Use</a> & <a
            href="#">Privacy Policy</a>
    </p>

    <script>
        const textarea = document.querySelector('textarea');
        const charCountDisplay = document.querySelector('.actions p');
        let promptClickCount = 0;

        function updateCharCount() {
            const text = textarea.value;
            const charCount = text.length;
            charCountDisplay.textContent = `${charCount}/80 letters`;

            // Enforce 80-character limit
            if (charCount > 80) {
                textarea.value = text.slice(0, 80);
                charCountDisplay.textContent = `80/80 letters`;
                // Move cursor to end
                textarea.setSelectionRange(80, 80);
            }
        }

        // Update character count on input
        textarea.addEventListener('input', updateCharCount);

        // Initialize character count on page load
        updateCharCount();

        function generatePrompt() {
            const prompts = [
                "Spill the tea",
                "Who’s your crush",
                "Caught feelings?",
                "Drop your type",
                "Stalk anyone?",
                "Biggest ick?",
                "Rate me 1-10",
                "Single or not?",
                "Who’d you kiss?",
                "Toxic trait?",
                "Favorite texter?",
                "Secret talent?",
                "Sneaky link?",
                "Caught staring?",
                "Your red flag?",
                "Vibe in 3 words",
                "Got rizz?",
                "Soulmates real?",
                "Embarrassing moment?",
                "Over your ex?",
                "Worst date?",
                "Lockscreen pic?",
                "Date younger?",
                "Hill to die on?",
                "Do you ghost?",
                "First noticed?",
                "Late night thought?",
                "Been friendzoned?",
                "Friendzoned someone?",
                "Who do you miss?"
            ];
            const randomPrompt = prompts[Math.floor(Math.random() * prompts.length)];
            textarea.value = randomPrompt;
            updateCharCount(); // Update character count after generating prompt

            // Increment click count and check for confetti
            promptClickCount++;
            if (promptClickCount === 15) {
                launchConfetti();
                promptClickCount = 0;
            }
        }

        function launchConfetti() {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            const confettiCount = 200;

            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.width = `${Math.random() * 10 + 5}px`;
                confetti.style.height = confetti.style.width;
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0%';
                confetti.style.animationDuration = `${Math.random() * 2 + 2}s`;
                document.body.appendChild(confetti);

                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }

        const dialogOverlay = document.getElementById('dialogOverlay');
        const dialog = document.getElementById('dialog');
        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('fileInput');

        function showDialog() {
            dialog.classList.remove('closing');
            dialogOverlay.classList.add('show');
        }

        function hideDialog() {
            dialog.classList.add('closing');
            dialogOverlay.classList.remove('show');
            setTimeout(() => {
                dialog.classList.remove('closing');
            }, 400); // Match transition duration
        }

        dialogOverlay.addEventListener('click', (e) => {
            if (e.target === dialogOverlay) {
                hideDialog();
            }
        });

        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('dragover');
        });

        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('dragover');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('dragover');
            const files = e.dataTransfer.files;
            handleFiles(files);
        });

        fileInput.addEventListener('change', () => {
            const files = fileInput.files;
            handleFiles(files);
        });

        function handleFiles(files) {
            for (const file of files) {
                if (file.type.startsWith('image/')) {
                    console.log('Selected file:', file.name);
                    // Add file processing logic here (e.g., display image preview)
                }
            }
            hideDialog();
        }
    </script>
</body>

</html>